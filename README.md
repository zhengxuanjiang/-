# -
人脸识别/打卡器
# 智能人脸识别考勤系统

一个基于Python和Flask的实时人脸识别考勤系统，能够自动识别、记录和统计人员的出勤情况，适用于办公室、教室、会议室等场景。

## 功能特点

- **实时人脸识别**：通过摄像头实时检测并识别画面中的人脸
- **人员注册管理**：支持新人员人脸注册、信息存储和删除
- **考勤自动记录**：自动记录人员出现和离开的时间，计算停留时长
- **数据统计分析**：提供人员出勤次数、总停留时间等统计信息
- **数据导出功能**：支持将考勤数据导出为JSON格式备份
- **直观可视化界面**：网页端实时显示识别结果和统计数据

## 技术栈

- **后端**：Python 3.11+, Flask, SQLite
- **人脸识别**：face_recognition, mediapipe
- **前端**：HTML5, JavaScript, CSS3
- **其他**：OpenCV, PIL, Flask-CORS

## 安装与配置

### 前置要求

- Python 3.11 或更高版本
- 具备摄像头的设备（内置或外接）
- 网络连接（首次运行需下载人脸识别模型）

### 安装步骤

1. **克隆或下载项目代码**

2. **安装依赖包**
   ```bash
   pip install flask flask-cors opencv-python mediapipe face-recognition pillow numpy
   ```

3. **运行系统**
   ```bash
   python app.py
   ```

4. **访问系统**
   打开浏览器，访问 http://localhost:5000 即可使用系统

## 使用指南

### 基本操作流程

1. **启动系统**：运行程序后，在浏览器中打开系统界面
2. **开始监控**：点击"开始识别"按钮，系统将启动摄像头并开始人脸识别
3. **注册新人**：点击"注册新人脸"按钮，输入姓名并拍照完成注册
4. **查看统计**：系统自动更新并展示各类统计数据
5. **导出数据**：点击"导出数据"按钮可将当前考勤数据保存为JSON文件

### 功能详解

- **实时监控**：左侧面板显示摄像头实时画面，识别到的人脸会被框出并显示姓名
- **人员管理**：右侧面板展示已注册人员信息，支持删除操作
- **考勤记录**：底部面板显示所有人员的考勤统计信息
- **状态显示**：实时显示系统当前状态和操作结果

## 系统架构

1. **数据层**：使用SQLite数据库存储三类信息
   - 注册人脸信息（姓名、人脸特征、照片路径）
   - 人员出现记录（出现时间、离开时间、停留时长）
   - 统计数据（出勤次数、总时长等）

2. **业务层**：核心功能模块
   - 人脸检测与识别模块
   - 人员信息管理模块
   - 考勤记录模块
   - 数据统计与导出模块

3. **表现层**：网页前端界面
   - 实时视频监控区域
   - 操作控制区域
   - 数据统计展示区域
   - 人员信息管理区域

## 注意事项

1. **人脸识别精度**：识别精度受光线条件、人脸角度影响，建议在光线充足的环境下使用
2. **网络要求**：首次运行需要下载人脸识别模型，需保持网络畅通
3. **数据存储**：所有数据存储在本地SQLite数据库中，确保数据安全性
4. **隐私保护**：系统仅在本地处理和存储人脸数据，不会上传至云端

## 常见问题

- **摄像头无法启动**：检查浏览器权限设置，确保允许网页访问摄像头
- **识别效果差**：尝试调整光线条件，确保人脸正对摄像头
- **注册失败**：确保注册时画面中只有一个人脸，且光线充足
- **数据丢失**：数据库文件为face_records.db，建议定期备份此文件

## 扩展与定制

- 可扩展支持多摄像头监控
- 可添加权限管理功能，区分管理员和普通用户
- 可扩展支持更多数据导出格式（如Excel）
- 可添加更详细的数据分析和报表功能

## 许可证

本项目采用MIT许可证，详情参见LICENSE文件。

---

如有任何问题或建议，请联系项目维护人员。
